# Gmail MCP Server Setup Checklist

Use this checklist to track your setup progress. Check off each item as you complete it.

## Prerequisites

- [ ] Node.js 16+ installed
  ```bash
  node --version  # Should show v16.0.0 or higher
  ```

- [ ] Python 3.10+ installed (for helper scripts - optional)
  ```bash
  python --version  # Should show 3.10 or higher
  ```

- [ ] Gmail account available

- [ ] Claude for Desktop installed (latest version)

---

## Google Cloud Setup (10 minutes)

- [ ] **Created Google Cloud Project**
  - Visit: https://console.cloud.google.com/
  - Click "Create Project"
  - Project name: `Gmail MCP Server`

- [ ] **Enabled Gmail API**
  - Navigate to: APIs & Services â†’ Library
  - Search: "Gmail API"
  - Click "Enable"

- [ ] **Configured OAuth Consent Screen**
  - Navigate to: APIs & Services â†’ OAuth consent screen
  - User Type: External
  - App name: `Gmail MCP Server`
  - Support email: Your email
  - Developer contact: Your email
  - Test users: Your Gmail address

- [ ] **Created OAuth Credentials**
  - Navigate to: APIs & Services â†’ Credentials
  - Click: Create Credentials â†’ OAuth client ID
  - Type: Desktop app
  - Name: `Gmail MCP Server`

- [ ] **Downloaded Credentials**
  - Clicked download button (â¬‡)
  - Saved as: `mcp_servers/email/config.json`

---

## Installation (5 minutes)

### Option A: Python Path

- [ ] **Installed Python Dependencies**
  ```bash
  pip install -r scripts/requirements-gmail.txt
  ```

- [ ] **Ran OAuth Setup**
  ```bash
  python scripts/setup_gmail_oauth.py
  ```
  - Browser opened automatically
  - Signed in to Google
  - Granted all permissions
  - Authorization successful

- [ ] **Converted Token Format**
  ```bash
  python scripts/convert_gmail_token.py
  ```
  - Confirmed conversion
  - token.json updated

### Option B: Node.js Path

- [ ] **Ran Node.js OAuth**
  ```bash
  cd mcp_servers/email
  node auth.js
  ```
  - Pasted authorization code
  - Token saved

### Both Options

- [ ] **Installed Node.js Dependencies**
  ```bash
  cd mcp_servers/email
  npm install
  ```

- [ ] **Validated Setup**
  ```bash
  cd mcp_servers/email
  python test_setup.py
  ```
  - All checks passed âœ“

---

## Configuration (2 minutes)

- [ ] **Found Claude Config Location**
  - macOS: `~/Library/Application Support/Claude/claude_desktop_config.json`
  - Windows: `%APPDATA%\Claude\claude_desktop_config.json`

- [ ] **Got Absolute Path**
  ```bash
  # Run in mcp_servers/email directory:
  pwd  # macOS/Linux
  cd   # Windows
  ```
  Path: ________________________________

- [ ] **Updated Claude Config**
  Added to `claude_desktop_config.json`:
  ```json
  {
    "mcpServers": {
      "gmail": {
        "command": "node",
        "args": [
          "/ABSOLUTE/PATH/TO/mcp_servers/email/server.js"
        ]
      }
    }
  }
  ```

- [ ] **Saved Config File**

---

## Testing (2 minutes)

- [ ] **Restarted Claude for Desktop**
  - **Important:** Fully quit (Cmd+Q on macOS)
  - Not just close window!
  - Reopened Claude

- [ ] **Verified Server Appears**
  - Clicked ðŸ“Ž icon in Claude
  - Hovered over "Connectors"
  - Saw "gmail" listed with 3 tools

- [ ] **Tested Search**
  Asked Claude:
  ```
  Search my Gmail for unread emails
  ```
  - Claude used `search_emails` tool
  - Results returned
  - Shows actual emails âœ“

- [ ] **Tested Draft**
  Asked Claude:
  ```
  Draft an email to test@example.com with subject "Test"
  ```
  - Claude used `draft_email` tool
  - Draft created
  - Visible in Gmail drafts âœ“

- [ ] **Tested Send (Optional)**
  Asked Claude:
  ```
  Send an email to [your-email] with subject "MCP Test"
  ```
  - Claude used `send_email` tool
  - Email sent
  - Received in inbox âœ“

---

## Troubleshooting (If Needed)

### Server Not Showing

- [ ] Checked Claude logs
  ```bash
  # macOS
  tail -f ~/Library/Logs/Claude/mcp*.log

  # Windows
  type %APPDATA%\Claude\logs\mcp.log
  ```

- [ ] Verified absolute path (not relative)

- [ ] Restarted Claude properly (Cmd+Q)

- [ ] Checked Node.js in PATH
  ```bash
  which node  # macOS/Linux
  where node  # Windows
  ```

### Authentication Issues

- [ ] Verified Gmail API enabled

- [ ] Re-ran auth script
  ```bash
  python scripts/setup_gmail_oauth.py
  # or
  node auth.js
  ```

- [ ] Deleted token.json and re-authorized

- [ ] Checked all 4 scopes granted

### Tool Errors

- [ ] Checked server logs in Claude

- [ ] Verified token.json format (Node.js style)

- [ ] Ran test_setup.py validator

- [ ] Checked Gmail API quotas

---

## Files Checklist

Verify these files exist:

- [ ] `mcp_servers/email/config.json` (your OAuth credentials)
- [ ] `mcp_servers/email/token.json` (generated by auth)
- [ ] `mcp_servers/email/server.js` (MCP server)
- [ ] `mcp_servers/email/package.json` (dependencies)
- [ ] `mcp_servers/email/node_modules/` (installed packages)
- [ ] Claude config updated with absolute path

---

## Security Checklist

- [ ] **Never committed credentials to Git**
  ```bash
  git status  # Should NOT show config.json or token.json
  ```

- [ ] **Set file permissions (macOS/Linux)**
  ```bash
  chmod 600 mcp_servers/email/config.json
  chmod 600 mcp_servers/email/token.json
  ```

- [ ] **Verified .gitignore includes:**
  - config.json
  - token.json
  - token.json.backup

- [ ] **OAuth consent screen properly configured**
  - Test users added
  - Not published to production

---

## Success Indicators

All of these should be true:

- [x] Node.js and npm installed
- [x] Google Cloud project created
- [x] Gmail API enabled
- [x] OAuth credentials downloaded
- [x] config.json in correct location
- [x] Dependencies installed (npm install)
- [x] OAuth flow completed successfully
- [x] token.json created
- [x] test_setup.py passes all checks
- [x] Claude config updated
- [x] Claude fully restarted
- [x] Gmail tools visible in Claude
- [x] Search query returns actual emails
- [x] Draft creation works
- [x] No errors in Claude logs

---

## Next Steps After Setup

- [ ] **Read full documentation**
  - README.md for detailed API reference
  - Understand all tool capabilities

- [ ] **Explore Gmail search queries**
  - `from:user@example.com`
  - `subject:meeting`
  - `is:unread`
  - `has:attachment`
  - `after:2024/01/01`

- [ ] **Test advanced features**
  - Send with attachments
  - HTML email bodies
  - Complex search queries

- [ ] **Integrate with workflows**
  - Automated email responses
  - Task-based email sending
  - Email monitoring

- [ ] **Set up monitoring**
  - Check Claude logs regularly
  - Monitor Gmail API quotas
  - Watch for errors

---

## Maintenance

### Regular Tasks

- [ ] **Monitor API usage** (monthly)
  - Check quotas in Google Cloud Console
  - Stay within limits

- [ ] **Update dependencies** (quarterly)
  ```bash
  cd mcp_servers/email
  npm update
  ```

- [ ] **Review OAuth consent** (quarterly)
  - Check test users
  - Update if needed

- [ ] **Backup configuration** (as needed)
  ```bash
  cp config.json config.json.backup
  ```

### When Issues Arise

1. Check Claude logs first
2. Run test_setup.py
3. Verify token.json format
4. Re-run auth if needed
5. Check Gmail API status
6. Review documentation

---

## Quick Reference

### Start MCP Server (Testing)
```bash
cd mcp_servers/email
node server.js
```

### Re-authorize
```bash
# Python
python scripts/setup_gmail_oauth.py

# Node.js
cd mcp_servers/email
node auth.js
```

### Validate Setup
```bash
cd mcp_servers/email
python test_setup.py
```

### Check Logs
```bash
# macOS
tail -f ~/Library/Logs/Claude/mcp*.log

# Windows
type %APPDATA%\Claude\logs\mcp.log
```

---

## Resources

- **Quick Start:** QUICK_START.md
- **Setup Guide:** SETUP_GUIDE.md
- **Full Docs:** README.md
- **Scripts Guide:** ../scripts/README_GMAIL_SCRIPTS.md
- **MCP Protocol:** https://modelcontextprotocol.io/
- **Gmail API:** https://developers.google.com/gmail/api

---

## Completion

Date completed: _______________

Working successfully: [ ] Yes [ ] No

Notes:
_________________________________________________________________
_________________________________________________________________
_________________________________________________________________

---

**Congratulations! ðŸŽ‰**

If all checkboxes above are checked, your Gmail MCP Server is fully operational and ready to use!

You can now:
- Search emails with natural language
- Draft emails through AI assistance
- Send emails automatically
- Integrate email into your AI workflows

**Enjoy your AI-powered email assistant!**
